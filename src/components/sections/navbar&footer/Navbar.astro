---
//Import relevant dependencies
import NavLink from "@components/ui/links/NavLink.astro";
import enStrings from "@utils/navigation.ts";
import BrandLogo from "@components/BrandLogo.astro";
import PrimaryCTA from "@components/ui/buttons/PrimaryCTA.astro";
import SecondaryCTA from "@components/ui/buttons/SecondaryCTA.astro";

// Accept props for primary and secondary buttons
const {   primaryBtn,
  primaryBtnURL,
  secondaryBtn,
  secondaryBtnURL, } = Astro.props;

// Define TypeScript interface for props
interface Props {
  primaryBtn?: string;
  primaryBtnURL?: string;
  secondaryBtn?: string;
  secondaryBtnURL?: string;
}

// Select the correct translation based on the page's lang prop:
const strings = enStrings;
const homeUrl = "/";
---

<!-- Main header component -->
<header
  class="sticky inset-x-0 top-4 z-50 flex w-full flex-wrap text-sm md:flex-nowrap md:justify-start"
>
  <!-- Navigation container -->
  <nav
    class="relative mx-2 w-full rounded-[36px] border border-black bg-[#f0f6f8] px-4 py-3 backdrop-blur-md dark:border-neutral-700/40 dark:bg-neutral-800/80 dark:backdrop-blur-md md:flex md:items-center md:justify-between md:px-6 md:py-0 lg:px-8 xl:mx-auto"
    aria-label="Global"
  >
    <div class="flex items-center gap-4">
      <!-- Brand logo -->
      <a
        class="flex-none rounded-lg text-xl font-bold outline-none ring-zinc-500 focus-visible:ring dark:ring-zinc-200 dark:focus:outline-none"
        href={homeUrl}
        aria-label="Brand"
      >
        <BrandLogo class="h-auto w-24" />
      </a>
      <!-- Contains navigation links -->
      <div
        id="navbar-collapse-with-animation"
        class="hs-collapse hidden grow basis-full overflow-hidden transition-all duration-300 md:block"
      >
        <!-- Navigation links container -->
        <div
          class="flex flex-col gap-x-0 gap-y-4 md:flex-row md:items-center md:gap-x-4 lg:gap-x-6 md:gap-y-0"
        >
          <!-- Navigation links -->
          {strings.navBarLinks.map((link) => (
            <NavLink url={link.url} name={link.name} />
          ))}
        </div>
      </div>
    </div>
    <!-- Call-to-Action Buttons -->
    <div class="hidden md:flex items-center gap-4">
      {primaryBtn && 
        <PrimaryCTA title={primaryBtn} url={primaryBtnURL} />
        }
        {secondaryBtn && 
        <SecondaryCTA title={secondaryBtn} url={secondaryBtnURL} />
        }
    </div>
    <!-- Collapse toggle for smaller screens -->
    <div class="ml-auto md:hidden flex items-center justify-end w-full">
      <button
        type="button"
        class="hs-collapse-toggle flex h-10 w-10 items-center justify-center rounded-full bg-black text-white text-sm font-bold transition-transform duration-300 hover:bg-neutral-700 active:scale-90"
        data-hs-collapse="#navbar-collapse-with-animation"
        aria-controls="navbar-collapse-with-animation"
        aria-label="Toggle navigation"
      >
        <!-- Hamburger icon -->
        <svg
          class="h-6 w-6 hs-collapse-open:hidden transition-transform duration-300"
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
          stroke-width="2"
        >
          <line x1="4" x2="20" y1="6" y2="6"></line>
          <line x1="4" x2="20" y1="12" y2="12"></line>
          <line x1="4" x2="20" y1="18" y2="18"></line>
        </svg>
        <!-- Close icon -->
        <svg
          class="hidden h-6 w-6 hs-collapse-open:block transition-transform duration-300"
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
          stroke-width="2"
        >
          <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </button>
    </div>
  </nav>
</header>

<!--Import the necessary Collapse and Overlay plugins-->
<!--https://preline.co/plugins/html/collapse.html-->
<!--https://preline.co/plugins/html/overlay.html-->
<script>
  import "@preline/collapse/index.js";
  import "@preline/overlay/index.js";
</script>
